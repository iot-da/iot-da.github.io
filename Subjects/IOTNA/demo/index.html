<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://iot-da.github.io/Subjects/IOTNA/demo/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Home - Internet of Things and Data Analytics</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">Internet of Things and Data Analytics</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contact <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../Contact/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ESO camara <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../ESO-camara/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../General/TFM/">TFM</a>
</li>
                            
<li >
    <a href="../../../General/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">News <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../News/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Subjects <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">EDGE</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/">Home</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Week1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week1/">Home</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Docs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week1/docs/aux-docker/">Aux docker</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">IA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../IA/groups/">Groups</a>
</li>
            
<li >
    <a href="../../IA/">Home</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">IOTNA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../groups/">Groups</a>
</li>
            
<li >
    <a href="../">Home</a>
</li>
            
<li >
    <a href="../paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P5/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P6/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P7</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P7/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Ctutorial</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../ctutorial/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Demo</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">MDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../MDM/">Home</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">NP1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/FinalProject/">FinalProject</a>
</li>
            
<li >
    <a href="../../NP1/groups/">Groups</a>
</li>
            
<li >
    <a href="../../NP1/">Home</a>
</li>
            
<li >
    <a href="../../NP1/paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P5/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P6/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">NP2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/FinalProject/">FinalProject</a>
</li>
            
<li >
    <a href="../../NP2/groups/">Groups</a>
</li>
            
<li >
    <a href="../../NP2/">Home</a>
</li>
            
<li >
    <a href="../../NP2/paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Assignments</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/Assignments/1/">1</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P10</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P10/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P5/">Home</a>
</li>
            
<li >
    <a href="../../NP2/P5/notas/">Notas</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P6/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6 II</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P6-II/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P7</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P7/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P8</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P8/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P9</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P9/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">SEC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SEC/">Home</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">SID</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SID/">Home</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../ctutorial/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../MDM/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#introduction-to-esp-idf-and-platform-io-demo">Introduction to ESP-IDF and Platform IO (demo)</a></li>
            <li><a href="#goals">Goals</a></li>
            <li><a href="#using-the-virtual-machine">Using the Virtual Machine</a></li>
            <li><a href="#launching-visual-studio-code-and-platformio">Launching Visual Studio Code and PlatformIO</a></li>
            <li><a href="#installing-the-native-esp-idf-environment">Installing the native ESP-IDF environment</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="introduction-to-esp-idf-and-platform-io-demo">Introduction to ESP-IDF and Platform IO (demo)</h1>
<h2 id="goals">Goals</h2>
<ul>
<li>Meet the IDE we will be using during the Master: native ESP-IDF and the tool PlatformIO</li>
<li>Learn how to run  the virtual machine and install the environments</li>
<li>Learn how to connect our ESP32 board to the computer and upload a binary</li>
</ul>
<h2 id="using-the-virtual-machine">Using the Virtual Machine</h2>
<p>We have provided a virtual machine with some of the tools we will be using already installed. Note that you can install everything natively in your system, and I will run faster. We provide the virtual machine just in case you prefer not to install new software in your own computer.</p>
<p>You can download the OVA file  from <a href="https://drive.google.com/file/d/1PYeX4PDDk63yAljhoXuL_VtkmBD1wF4N/view">Google Drive</a> or <a href="https://pan.baidu.com/s/1EhKZv6WzqXyZPpYrc7KxlQ">Baidu Netdisk</a> (with code 7spz).  An OVA file  contains a OVF  (Open Virtualizaion Format) file so it can be opened in any virtualization framework.</p>
<p>During the course, we will be using <a href="https://www.oracle.com/virtualization/technologies/vm/downloads/virtualbox-downloads.html">Oracle VM Virtualbox</a> which is a free and open-source hosted hypervisor for x86 virtualization. In order to run the virtual machine just follow the steps:</p>
<ul>
<li>Download Virtual Box <a href="https://www.oracle.com/virtualization/technologies/vm/downloads/virtualbox-downloads.html">from this link</a>.</li>
<li>Install Virtual Box in your machine.</li>
<li>Download the OVA file provided.</li>
<li><em>Import</em> the OVA file from Virtual Box (Use "Import" or "Import Appliance" from the File menu. Do not just drag the OVA file in the Virtual Box window)</li>
</ul>
<p>After importing the virtual machine is imported it should be listed in Virtual Box screen (the one named <em>MIOT_VM_2022_CN</em>)</p>
<p><img alt="vbox" src="./img/1.png" /></p>
<p>Now, you can run the virtual machine. We have installed a recent version of Ubuntu operating system (Ubuntu 20.04.1 LTS). There is a sinlge user (named Ubuntu) whose password is <em>ubuntu</em> (small-caps). </p>
<p><img alt="ubuntu" src="./img/2.png" /></p>
<h2 id="launching-visual-studio-code-and-platformio">Launching Visual Studio Code and PlatformIO</h2>
<p>During this online demo, I will show you how to use Visual Studio Code and the PlatformIO plugin to create a new project, compile it and upload it to our board.</p>
<p>You can install this environment in your own machine, which is recommended since virtualization introduces some overheads.  You can download <a href="https://code.visualstudio.com/">Visual Studio Code from this link</a>. Once installed, you can easily install the <a href="https://platformio.org/">PlatformIO plugin</a> from the <em>Extensions: Marketplace</em> in the same Visual Studio Code window:</p>
<p><img alt="pio" src="./img/3.png" /></p>
<h2 id="installing-the-native-esp-idf-environment">Installing the native ESP-IDF environment</h2>
<p>There is an alternative to PlatformIO: installing the native <a href="https://www.espressif.com/">Espressif</a> environment for ESP-IDF.  You have all the steps to install and setup their environment in <a href="https://docs.espressif.com/projects/esp-idf/en/stable/esp32/get-started/index.html">this link</a></p>
<p>Just a summary of the information there provided (please check the website, because it could be updated),  we include here the most relevant steps for the environment installation in the Ubuntu terminal machine. </p>
<ul>
<li>Open a Terminal and make sure your package system is up to date:</li>
</ul>
<pre><code class="sh">sudo apt update
sudo apt upgrade
</code></pre>

<ul>
<li>Run the following command to install the pre-requisites (note that you will be using <em>sudo</em> to run it with superuser privileges. The user <em>Ubuntu</em>  has <em>sudo</em> privileges, so just use the same password as before when required: <em>ubuntu</em>).</li>
</ul>
<pre><code class="sh">sudo apt-get install git wget flex bison gperf python python3-pip python-setuptools cmake ninja-build ccache libffi-dev libssl-dev dfu-util
</code></pre>

<p>If you are installing the environment in your own Linux machine, make sure your user is also in the <code>dilaout</code> group. </p>
<ul>
<li>Install Python 3 and make it the default distribution:</li>
</ul>
<pre><code class="sh">sudo apt-get install python3 python3-pip python3-setuptools
sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10
</code></pre>

<ul>
<li>Obtain ESP-IDF sources. We will install it under a folder called <em>esp</em></li>
</ul>
<pre><code class="sh">mkdir -p ~/esp
cd ~/esp
git clone --recursive https://github.com/espressif/esp-idf.git
cd esp-idf
git fetch
git pull
git submodule update --init --recursive
</code></pre>

<ul>
<li>Now you can proceed to install the environment by using the provided script in <em>esp-idf</em> folder. This should be done only once.</li>
</ul>
<pre><code class="sh">sh install.sh
</code></pre>

<ul>
<li>Every time you are to use the environment after opening a new Terminal, you should export some environment variables by running the <em>export</em> script provided in the <em>esp-idf</em> folder:</li>
</ul>
<pre><code class="sh">. ./export.sh
</code></pre>

<ul>
<li>You are now ready to use the environment. <em>idf.py</em> is the front-end tool for everything: compiling, flashing , monitoring... You can now check the installed version by running:</li>
</ul>
<pre><code class="sh">$ idf.py --version
ESP-IDF v4.xxxxx
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

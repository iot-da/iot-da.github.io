<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://iot-da.github.io/Subjects/IOTNA/P7/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Home - Internet of Things and Data Analytics</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">Internet of Things and Data Analytics</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contact <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../Contact/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ESO camara <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../ESO-camara/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../General/TFM/">TFM</a>
</li>
                            
<li >
    <a href="../../../General/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">News <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../News/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Subjects <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">EDGE</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/groups/">Groups</a>
</li>
            
<li >
    <a href="../../EDGE/">Home</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Week1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week1/assigments_Jetson-Nano/">assigments Jetson Nano</a>
</li>
            
<li >
    <a href="../../EDGE/Week1/">Home</a>
</li>
            
<li >
    <a href="../../EDGE/Week1/install_Jetson-Nano/">install Jetson Nano</a>
</li>
            
<li >
    <a href="../../EDGE/Week1/setup_Jetson-Nano/">setup Jetson Nano</a>
</li>
            
<li >
    <a href="../../EDGE/Week1/setup_MLcontainer/">setup MLcontainer</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Docs</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week1/docs/aux-docker/">Aux docker</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Week4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week4/assigments_OpenCV/">assigments OpenCV</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Week6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week6/assigment/">Assigment</a>
</li>
            
<li >
    <a href="../../EDGE/Week6/imageRecognition/">imageRecognition</a>
</li>
            
<li >
    <a href="../../EDGE/Week6/inferenceImageClassifying/">inferenceImageClassifying</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Week7</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../EDGE/Week7/objectDetection/">objectDetection</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">IA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../IA/groups/">Groups</a>
</li>
            
<li >
    <a href="../../IA/">Home</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">IOTNA</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../groups/">Groups</a>
</li>
            
<li >
    <a href="../">Home</a>
</li>
            
<li >
    <a href="../paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P5/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../P6/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P7</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Ctutorial</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../ctutorial/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">Demo</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../demo/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">MDM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../MDM/">Home</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">NP1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/FinalProject/">FinalProject</a>
</li>
            
<li >
    <a href="../../NP1/groups/">Groups</a>
</li>
            
<li >
    <a href="../../NP1/">Home</a>
</li>
            
<li >
    <a href="../../NP1/paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P5/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP1/P6/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">NP2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/FinalProject/">FinalProject</a>
</li>
            
<li >
    <a href="../../NP2/groups/">Groups</a>
</li>
            
<li >
    <a href="../../NP2/">Home</a>
</li>
            
<li >
    <a href="../../NP2/paperProject/">paperProject</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Assignments</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/Assignments/1/">1</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P10</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P10/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P3/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P4</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P4/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P5</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P5/">Home</a>
</li>
            
<li >
    <a href="../../NP2/P5/notas/">Notas</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P6/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P6 II</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P6-II/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P7</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P7/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P8</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P8/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P9</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../NP2/P9/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">SEC</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SEC/groups/">Groups</a>
</li>
            
<li >
    <a href="../../SEC/">Home</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">P1</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SEC/P1/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SEC/P2/">Home</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">P3</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SEC/P3/">Home</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">SID</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../SID/">Home</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../P6/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../ctutorial/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#final-programming-project">Final programming project</a></li>
            <li><a href="#project-description">Project description</a></li>
            <li><a href="#important-dates">Important dates</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="final-programming-project">Final programming project</h1>
<p>The final development (programming) project will be finally carried on <strong>in teams of 2 people</strong>.</p>
<h2 id="project-description">Project description</h2>
<p>The project must provide the following features:</p>
<ul>
<li>It must periodically  monitor   two I2C sensors of the ESP32-MeshKit-Sense board,  the temperature sensor (HTS221) and the ambient light sensor (BH1750FVI).  You will read the temperature sensor every 5 seconds and the light sensor every 2 seconds. </li>
<li>The <em>power manager</em> will be configured to enter light sleep whenever possible.</li>
<li>There will be a LOG (level INFO) every 10 seconds informing of the last temperature and ambient light (illuminance, measured in lux) readings</li>
<li>LED IO12 should be blinking every second to inform that the system is running. </li>
<li>If the ambient light sensor lux lecture goes below a certain threshold (decided by you), the LED IO2 will be on and LED IO12 will go off. </li>
<li>If the ambient light sensor readings remain under the threshold for more than 10 minutes, the system will enter deep sleep for 30 minutes.</li>
</ul>
<h3 id="optional-parts">Optional parts</h3>
<p>OPTIONALLY you could include all/some of the  following features:</p>
<ul>
<li>Design the system using the Finite State Machine (FSM) presented in the lectures.</li>
<li>Instead of informing of the last temperature/illuminance reading, log the average of the readings since the last log.</li>
<li>Before entering deep sleep, the system will write the current temperature and luminance reading in Flash, using the NVS partition. After waking up, and only if we are returning from a deep sleep,  there will be a LOG message informing of the stored temperature and illuminance before starting to read the sensors again.</li>
<li>LED IO12 could be controlled using a PWM signal so its intensity changes depending on the current illuminance: if the illuminance is high, the LED IO12 will bright more. When the illuminance is less, the LED IO12 will be dimmer. You can check the <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/mcpwm.html">ESP-IDF documentation and examples for PWM</a> (in the documentation, PWM is used to control motors and servomotors. But the same signal could drive the LED, controlling its intensity).</li>
</ul>
<h2 id="important-dates">Important dates</h2>
<ul>
<li><em>Group notifications</em>. Remember that this assignment has to be done in a team of 2 people, so the <strong>current groups are no longer valid</strong>. Please send an email to Prof. Jose Ignacio him about your team for this project <strong>before 29th Dec 2021</strong></li>
<li>During the week of 10th January 2022, you will be able to work on this project during IOTNA lectures. You will be able to ask your questions to the Professor during those sessions. </li>
<li><em>DEADLINE</em>: 24th January 2022.</li>
</ul>
<h3 id="delivery-instructions">Delivery instructions</h3>
<p>You must send your code (.c and .h files) to Prof. Jose Ignacio by email (jigomez@ucm.es) before the deadline expires.</p>
<h3 id="groups-for-the-final-project">Groups for the final project</h3>
<table>
<thead>
<tr>
<th>Group</th>
<th>Name 1</th>
<th>Name   2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>SHUISHI   ZHOU</td>
<td>YANG    CHU</td>
</tr>
<tr>
<td>2</td>
<td>YANG  ZHAO</td>
<td>HU   ZHAO</td>
</tr>
<tr>
<td>3</td>
<td>XIAOLAN   LI</td>
<td>QIUJI    CHEN</td>
</tr>
<tr>
<td>4</td>
<td>XIONGLAN  LUO.</td>
<td>JIANCHUANG  ZHANG</td>
</tr>
<tr>
<td>5</td>
<td>WEILIN    ZHANG.</td>
<td>YONGTAO    HE</td>
</tr>
<tr>
<td>6</td>
<td>JUNYAN   GUO</td>
<td>ZHIJUN    HAO</td>
</tr>
<tr>
<td>7</td>
<td>GONGLU    ZOU.</td>
<td>HONGBIAO CAO</td>
</tr>
<tr>
<td>8</td>
<td>JIAYUN    PAN</td>
<td>JIALI GAO</td>
</tr>
<tr>
<td>9</td>
<td>Liu   JINHUA</td>
<td>HUANG    YUJUAN</td>
</tr>
<tr>
<td>10</td>
<td>DUAN  ZHEN</td>
<td>HU HAO</td>
</tr>
<tr>
<td>11</td>
<td>GUANJIE   XIAO</td>
<td>YUANSHUANG   SHA</td>
</tr>
<tr>
<td>12</td>
<td>Dongyang  Xu</td>
<td>XUEQING ZHAO</td>
</tr>
<tr>
<td>13</td>
<td>WEI   REN</td>
<td>SUIZHI  LIU</td>
</tr>
<tr>
<td>14</td>
<td>YOURAN  TIAN</td>
<td>JUN     SHOU</td>
</tr>
<tr>
<td>15</td>
<td>TIANFENG   LI</td>
<td>YI  ZHANG</td>
</tr>
<tr>
<td>16</td>
<td>Fengfen GU</td>
<td>Wenyan  Liao</td>
</tr>
<tr>
<td>17</td>
<td>Bin  Zhang</td>
<td>YINGHUA  LIAO</td>
</tr>
</tbody>
</table>
<p>Group 18 will have 3 members: JIEPING YOU, QINGHONG YUHUAN and XIAZU HU</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
